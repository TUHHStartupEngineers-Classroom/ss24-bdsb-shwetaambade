{
  "hash": "9867c595cd85c6918d88ad265a9c4e06",
  "result": {
    "markdown": "---\ntitle: \"Data Wrangling\"\nauthor: \"Shweta Ambade\"\n---\n\n::: {.cell hash='03_data_wrangling_cache/html/unnamed-chunk-1_b2ce3fdfe1839ea1258baf867c5660b2'}\n\n```{.r .cell-code}\n#Challenge\n# Load required packages\nlibrary(data.table)\n\n# Set working directory if needed\n# setwd(\"C:/Users/Shweta/Documents/GitHub/ss24-bdsb-shwetaambade/datascience/Patent_data_reduced/Patent_data_reduced/\")\n\n\n# Load data\nassignee <- fread(\"C:/Users/Shweta/Documents/GitHub/ss24-bdsb-shwetaambade/datascience/Patent_data_reduced/Patent_data_reduced/assignee.tsv\")\npatent_assignee <- fread(\"C:/Users/Shweta/Documents/GitHub/ss24-bdsb-shwetaambade/datascience/Patent_data_reduced/Patent_data_reduced/patent_assignee.tsv\")\npatent <- fread(\"C:/Users/Shweta/Documents/GitHub/ss24-bdsb-shwetaambade/datascience/Patent_data_reduced/Patent_data_reduced/patent.tsv\")\nuspc <- fread(\"C:/Users/Shweta/Documents/GitHub/ss24-bdsb-shwetaambade/datascience/Patent_data_reduced/Patent_data_reduced/uspc.tsv\")\n\n\n# Check column names\ncolnames(assignee)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> [1] \"id\"           \"type\"         \"organization\"\n```\n:::\n\n```{.r .cell-code}\ncolnames(patent_assignee)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> [1] \"patent_id\"   \"assignee_id\"\n```\n:::\n\n```{.r .cell-code}\ncolnames(patent)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> [1] \"id\"         \"date\"       \"num_claims\"\n```\n:::\n\n```{.r .cell-code}\ncolnames(uspc)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> [1] \"patent_id\"    \"mainclass_id\" \"sequence\"\n```\n:::\n\n```{.r .cell-code}\n# Question 1: Patent Dominance- correct\n# Join assignee and patent_assignee tables, filter for US companies, then count patents by company\ndominance <- assignee[patent_assignee, on = c(\"id\" = \"assignee_id\")][type %in% c(2, 4, 6, 8, 9), .N, by = organization][order(-N)]\n\n# Display top 10 US companies with the most assigned/granted patents\nhead(dominance, 10)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"organization\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"N\"],\"name\":[2],\"type\":[\"int\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"International Business Machines Corporation\",\"2\":\"7547\"},{\"1\":\"Microsoft Corporation\",\"2\":\"3165\"},{\"1\":\"Google Inc.\",\"2\":\"2668\"},{\"1\":\"QUALCOMM Incorporated\",\"2\":\"2597\"},{\"1\":\"Apple Inc.\",\"2\":\"2201\"},{\"1\":\"General Electric Company\",\"2\":\"1873\"},{\"1\":\"Hewlett-Packard Development Company, L.P.\",\"2\":\"1638\"},{\"1\":\"AT&T INTELLECTUAL PROPERTY I, L.P.\",\"2\":\"1625\"},{\"1\":\"Intel Corporation\",\"2\":\"1616\"},{\"1\":\"GM Global Technology Operations LLC\",\"2\":\"1533\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n# Question 2: Recent Patent Activity-correct\n# Filter patents granted in August 2014, then count patents by company\nrecent_activity <- assignee[patent_assignee[patent, on = c(\"patent_id\" = \"id\")][date >= \"2014-08-01\" & date <= \"2014-08-31\"], on = c(\"id\" = \"assignee_id\")][type %in% c(2, 4, 6, 8, 9), .N, by = organization][order(-N)]\n\n# Display top 10 US companies with the most new granted patents for August 2014\nhead(recent_activity, 10)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"organization\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"N\"],\"name\":[2],\"type\":[\"int\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"International Business Machines Corporation\",\"2\":\"718\"},{\"1\":\"Microsoft Corporation\",\"2\":\"337\"},{\"1\":\"Google Inc.\",\"2\":\"240\"},{\"1\":\"QUALCOMM Incorporated\",\"2\":\"223\"},{\"1\":\"Apple Inc.\",\"2\":\"222\"},{\"1\":\"Intel Corporation\",\"2\":\"159\"},{\"1\":\"General Electric Company\",\"2\":\"148\"},{\"1\":\"AT&T INTELLECTUAL PROPERTY I, L.P.\",\"2\":\"146\"},{\"1\":\"Hewlett-Packard Development Company, L.P.\",\"2\":\"140\"},{\"1\":\"GM Global Technology Operations LLC\",\"2\":\"138\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n# Question 3: Innovation in Tech-correct\n# Join assignee, patent_assignee, and uspc tables, then count patents by tech sector\ninnovation <- assignee[patent_assignee, on = c(\"id\" = \"assignee_id\")][uspc, on = c(\"patent_id\" = \"patent_id\")][, .N, by = .(organization, mainclass_id)][order(-N)]\n\n# Display the top 10 most innovative tech sectors\ntop_sectors <- head(innovation, 10)\nprint(top_sectors)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#>                                         organization mainclass_id     N\n#>                                               <char>       <char> <int>\n#>  1:                          Monsanto Technology LLC          800  2535\n#>  2:      International Business Machines Corporation          257  2397\n#>  3: Taiwan Semiconductor Manufacturing Company, Ltd.          257  2383\n#>  4:                            QUALCOMM Incorporated          455  2244\n#>  5:              Pioneer Hi-Bred International, Inc.          800  2231\n#>  6:                    Samsung Electronics Co., Ltd.          257  2035\n#>  7:                            QUALCOMM Incorporated          370  1788\n#>  8:      International Business Machines Corporation          438  1742\n#>  9:                         Kabushiki Kaisha Toshiba          257  1647\n#> 10:        SEMICONDUCTOR ENERGY LABORATORY CO., LTD.          257  1619\n```\n:::\n\n```{.r .cell-code}\n# Count the number of patents per main class\nmain_class_counts <- innovation[, .N, by = mainclass_id]\n\n# Sort the main classes by patent count\nsorted_main_classes <- main_class_counts[order(-N)]\n\n# Display the top 5 USPTO tech main classes\ntop_main_classes <- head(sorted_main_classes, 5)\nprint(top_main_classes)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#>    mainclass_id     N\n#>          <char> <int>\n#> 1:          435  2474\n#> 2:          514  2431\n#> 3:          424  2295\n#> 4:          705  1775\n#> 5:          709  1759\n```\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\r\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}